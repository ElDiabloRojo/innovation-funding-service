<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml" xmlns:ifs="http://www.w3.org/1999/xhtml">

<!--/*

A fragment to render a standard textfield within a form.

Available parameters:

  Mandatory

    * label
    * id
    * value

  Optional

    * hint - additional guidance text to explain the textfield - defaults to not showing a hint
    * type - the "type" attribute of input - default value of type="text"
    * preventInputRegex - a regex of the input that is not allowed, for the attribute "data-prevent-input-regex" - defaults to no regex
    * pattern - a regex for the allowed input, to be used in the "pattern" attribute - defaults to no pattern
    * min - the minimum numerical value, if this is an input of type="number"
    * max - the maximum numerical value, if this is an input of type="number"

*/-->
<th:block th:fragment="textfield(label, id, value)">

    <div class="govuk-form-group" th:classappend="${#fields.hasErrors(id)} ? 'govuk-form-group--error'">

        <label class="govuk-label govuk-label--s" th:for="headCount" th:text="${label}">Label text</label>

        <span th:if="${hint != null}" th:utext="${hint}" class="govuk-hint">Hint text.</span>

        <th:block th:if="${#fields.hasErrors(id)}">
            <span class="govuk-error-message" th:each="err : ${#fields.errors(id)}" th:text="${err}"></span>
        </th:block>

        <input class="govuk-input govuk-input--width-10"
               th:type="${type ?: 'text'}"
               th:id="${id}"
               th:name="${id}"
               th:value="${value}"
               th:attrappend="
                    pattern=${pattern ?: null},
                    data-prevent-input-regex=${preventInputRegex ?: null},
                    min=${min ?: null},
                    max=${max ?: null},
                    required=${required ?: null}
                    " />
    </div>

</th:block>




<!--/*

A fragment to render an integer-capturing input textfield within a form.

Includes the following attribute values:

    * type="number"
    * pattern="[0-9]"
    * data-prevent-input-regex="[^0-9]"
    * min="0"
    * max="2147483647"

Other mandatory and optional values can be seen on the "textfield" fragment.

*/-->
<th:block th:fragment="textfield-integer(label, id, value)"
          th:include="::
          textfield(
            label=${label},
            id=${id},
            value=${value},
            type='number',
            pattern='[0-9]',
            preventInputRegex='[^0-9]',
            min='0',
            max='2147483647')" />

</html>
