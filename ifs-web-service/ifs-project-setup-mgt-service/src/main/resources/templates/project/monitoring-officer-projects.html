<!DOCTYPE html>
<html lang="en" class="govuk-template" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <th:block th:insert="fragments/layout :: head" th:with="pageTitle='Assign projects to Monitoring Officer'"/>
</head>
<body class="govuk-template__body">
<th:block th:insert="fragments/modals :: modal-overlay"/>

<th:block th:insert="fragments/layout :: body-start"/>
<th:block th:insert="fragments/layout :: global-header"/>

<div class="govuk-width-container">
    <th:block th:insert="fragments/layout :: phase-banner"/>
    <!--<th:block th:insert="fragments/layout :: header-sub" th:with="linkTitle='Back',linkUrl='/project-setup-management/monitoring-officer'" />-->

    <main class="govuk-main-wrapper" id="main-content" role="main">

        <div class="govuk-grid-row">
            <div class="govuk-grid-column-two-thirds">
                <th:block th:insert="fragments/layout :: page-title" th:with="pageTitle=${model.monitoringOfficerName},subTitle='Assign projects to Monitoring Officer',size='govuk-heading-xl'" />
                <form th:action="@{/monitoring-officer/{projectMonitoringOfficerId}/assign(projectMonitoringOfficerId=${model.projectMonitoringOfficerId})}"
                      method="POST">
                    <div class="govuk-form-group">
                        <label class="govuk-label" th:for="${form.projectNumber}">
                            Select a project to assign
                        </label>
                        <select th:field="${form.projectNumber}"
                                class="govuk-select">
                            <option th:each="project : ${model.unassignedProjects}"
                                    th:value="${project.projectNumber}"
                                    th:text="|${project.projectNumber} - ${project.projectName}|"></option>
                        </select>
                    </div>
                    <div class="govuk-form-group">
                        <button type="submit"
                                class="govuk-button">Assign</button>
                    </div>
                </form>
            </div>
        </div>

        <div class="govuk-grid-row sorting">
            <div class="govuk-grid-column-one-half">
                <span class="govuk-body govuk-!-font-size-48 govuk-!-font-weight-bold"
                      th:text="${model.assignedProjectsCount}">20</span>
                <span class="govuk-body govuk-!-font-size-19 govuk-!-font-weight-bold">assigned projects</span>
            </div>
        </div>

        <div class="table-overflow">
            <table class="govuk-table">
                <thead class="govuk-table__head">
                <tr class="govuk-table__row">
                    <th class="govuk-table__header" scope="col">Project number</th>
                    <th class="govuk-table__header" scope="col">Project name</th>
                    <th class="govuk-table__header" scope="col">Lead organisation</th>
                    <th class="govuk-table__header" scope="col"><span class="govuk-visually-hidden">Remove</span></th>
                </tr>
                </thead>
                <tbody class="govuk-table__body">
                <tr class="govuk-table__row"
                    th:each="project : ${model.assignedProjects}">
                    <td class="govuk-table__cell">
                        <a class="govuk-link"
                           th:href="@{/management/competition/{competitionId}/application/{applicationId}(competitionId=${project.competitionId},applicationId=${project.applicationId})}"
                           th:text="${project.projectNumber}"></a>
                    </td>
                    <td class="govuk-table__cell" th:text="${project.projectName}"></td>
                    <td class="govuk-table__cell" th:text="${project.leadOrganisationName}"></td>
                    <td class="govuk-table__cell alignright">
                        <a class="govuk-link"
                           th:href="@{/monitoring-officer/{projectMonitoringOfficerId}/unassign(projectMonitoringOfficerId=${model.projectMonitoringOfficerId})}">Remove</a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <th:block th:insert="fragments/layout :: main-content-end"/>
    </main>
</div>

<th:block th:insert="fragments/layout :: footer"/>
<th:block th:insert="fragments/layout :: body-end"/>

</body>
</html>
