<!DOCTYPE html>
<html lang="en" class="govuk-template" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <th:block th:insert="fragments/layout :: head" th:with="pageTitle='Assign projects to Monitoring Officer'"/>
</head>
<body class="govuk-template__body competition-management project-management">
<th:block th:insert="fragments/modals :: modal-overlay"/>

<th:block th:insert="fragments/layout :: body-start"/>
<th:block th:insert="fragments/layout :: global-header"/>

<div class="govuk-width-container">
    <th:block th:insert="fragments/layout :: phase-banner"/>

    <main class="govuk-main-wrapper" id="main-content" role="main">

        Placeholder for assigning projects to MO (IFS-5031)

        <form
            th:action="@{/monitoring-officer/{projectMonitoringOfficerId}/assign(projectMonitoringOfficerId=${model.projectMonitoringOfficerId})}"
            method="POST">

            <select th:field="${form.projectNumber}">
                <option th:each="project : ${model.unassignedProjects}"
                        th:value="${project.projectNumber}"
                        th:text="${project.projectName}"></option>

            </select>
            <input type="submit" value="Assign"/>
        </form>

        <p>Name: <span th:text="${model.monitoringOfficerName}"></span></p>
        <p><span th:text="${model.assignedProjectsCount}"></span> assigned projects</p>

        <table>
            <thead>
            <tr>
                <td>Project number</td>
                <td>Project name</td>
                <td>Lead organisation</td>
                <td></td>
            </tr>
            </thead>

            <tbody>
            <tr th:each="project : ${model.assignedProjects}">
                <td th:text="${project.projectNumber}">Project number</td>
                <td th:text="${project.projectName}">Project name</td>
                <td th:text="${project.leadOrganisationName}">Lead org</td>
                <td><a
                    th:href="@{/monitoring-officer/{projectMonitoringOfficerId}/unassign(projectMonitoringOfficerId=${model.projectMonitoringOfficerId})}">Remove</a>
                </td>
            </tr>
            </tbody>
        </table>

        <th:block th:insert="fragments/layout :: main-content-end"/>
    </main>
</div>

<th:block th:insert="fragments/layout :: footer"/>
<th:block th:insert="fragments/layout :: body-end"/>

</body>
</html>
