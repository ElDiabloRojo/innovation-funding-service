<!DOCTYPE html>
<html lang="en" class="govuk-template" xmlns:th="http://www.w3.org/1999/xhtml">

<head>
    <th:block th:insert="fragments/layout :: head" th:with="pageTitle=|${model.projectId}: ${model.projectName} - View partner details|" />
</head>
<body class="govuk-template__body">

<th:block th:insert="fragments/layout :: body-start"/>
<th:block th:insert="fragments/layout :: global-header"/>

<p class="govuk-width-container">
    <th:block th:insert="fragments/layout :: phase-banner"/>
    <th:block th:insert="fragments/layout :: header-sub"
              th:with="linkTitle='Back to project details',linkUrl=@{/project/{projectId}/details(projectId=${model.projectId})}"/>

    <main class="govuk-main-wrapper" id="main-content" role="main">
        <div th:if="${#fields.hasErrors('${form.*}')}" class="govuk-error-summary" role="alert"
             aria-labelledby="error-summary-title" tabindex="-1" data-module="error-summary">
            <h2 class="govuk-error-summary__title"
                id="error-summary-title">We are unable to show the partner details</h2>
            <div class="govuk-error-summary__body">
                <ul class="govuk-list govuk-error-summary__list">
                    <li th:each="err : ${#fields.errors('${form.*}')}">
                        <a href="#select-partner-section" th:text="${err}">The error message</a>
                    </li>
                </ul>
            </div>
        </div>

        <th:block th:insert="fragments/layout :: page-title"
                  th:with="pageTitle='View partner details',subTitle=${model.projectName},size='govuk-heading-xl'"/>

        <form method="POST" th:action="@{${#ifsUtil.formPostUri(#httpServletRequest)}}" novalidate="novalidate"
              th:object="${form}">
            <fieldset class="govuk-fieldset">
                <div class="govuk-form-group" id="select-partner-section"
                     th:classappend="${#fields.hasErrors('*') ? 'govuk-form-group--error' : ''}">
                    <th:block th:if="${#fields.hasErrors('*')}">
                        <span class="govuk-error-message" th:each="err : ${#fields.errors('*')}"
                              th:text="${err}"></span>
                    </th:block>
                    <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">
                        <h2 class="govuk-fieldset__heading">Choose partner</h2>
                    </legend>
                    <div class="govuk-radios">
                        <div class="govuk-radios__item" th:each="partnerOrganisation : ${model.partnerOrganisations}">
                            <input type="radio"
                                   class="govuk-radios__input"
                                   th:field="*{organisationName}"
                                   th:value="${partnerOrganisation.organisationName}"
                                   required="required"
                                   th:attr="data-required-errormessage=#{validation.projectmanagerform.projectmanager.required}"/>
                            <label th:for="${#ids.prev('organisationName')}"
                                   th:text="${partnerOrganisation.organisationName}"
                                   data-set-section-valid="#select-partner-section"
                                   data-clear-inputs="#name-select-partner,#email-select-partner"
                                   class="govuk-label govuk-radios__label"></label>
                        </div>
                    </div>
                </div>
            </fieldset>

            <button class="govuk-button" type="submit">View partner details</button>

            <p><a class="govuk-link" href="">Cancel and return to project details</a></p>
            <button id="cancel_return_project_details" type="submit" name="cancel-return-project-details" class="button-clear" value="true">Cancel and return to project details</button>

        </form>

        <th:block th:insert="fragments/layout :: main-content-end"/>
    </main>
</div>

<th:block th:insert="fragments/layout :: footer"/>
<th:block th:insert="fragments/layout :: body-end"/>
<th:block th:insert="fragments/service-layout :: body-end"/>

</body>
</html>
