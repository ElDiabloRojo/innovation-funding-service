<th:block th:fragment="user-list(users)">
    <p>
        <span class="heading-xlarge no-margin" th:text="${users.size()}">38</span>
        <span class="heading-small">users</span>
    </p>
    <th:block th:insert="fragments/external-users :: users-table(users=${users})" />
</th:block>

<th:block th:fragment="users-table(users)">
    <p th:if="${#lists.isEmpty(users)}">There are no results for this search.</p>
    <div class="table-overflow" th:unless="${#lists.isEmpty(users)}">
        <table>
            <thead>
            <tr>
                <th scope="col">Name</th>
                <th scope="col">Organisation name</th>
                <th scope="col">Organisation type</th>
                <th scope="col">Organisation ID</th>
                <th scope="col">Email</th>
                <th scope="col">Status</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="user : ${users}">
                <td th:text="${user.name}">Steve Smith</td>
                <td th:text="${user.organisationName}">Empire Limited</td>
                <td th:text="${user.organisationType}">Research</td>
                <td th:text="${user.organisationId}">10</td>
                <td th:text="${user.email}">steve.smith@empire.com</td>
                <td th:text="${user.status.displayName}">Verified</td>
            </tr>
            </tbody>
        </table>
    </div>
</th:block>
