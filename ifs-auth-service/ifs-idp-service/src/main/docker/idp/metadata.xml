<EntitiesDescriptor Name="innovateuk"
    xmlns="urn:oasis:names:tc:SAML:2.0:metadata" xmlns:ds="http://www.w3.org/2000/09/xmldsig#"
    xmlns:mdalg="urn:oasis:names:tc:SAML:metadata:algsupport" xmlns:mdui="urn:oasis:names:tc:SAML:metadata:ui"
    xmlns:shibmd="urn:mace:shibboleth:metadata:1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

<EntityDescriptor  xmlns="urn:oasis:names:tc:SAML:2.0:metadata" xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:shibmd="urn:mace:shibboleth:metadata:1.0" xmlns:xml="http://www.w3.org/XML/1998/namespace" xmlns:mdui="urn:oasis:names:tc:SAML:metadata:ui" entityID="https://idp/idp/shibboleth">

    <IDPSSODescriptor protocolSupportEnumeration="urn:oasis:names:tc:SAML:2.0:protocol urn:mace:shibboleth:1.0">

        <Extensions>
            <shibmd:Scope regexp="false">innovateuk.org</shibmd:Scope>

        </Extensions>

        <KeyDescriptor use="signing">
            <ds:KeyInfo>
                    <ds:X509Data>
                        <ds:X509Certificate>${IDP_SAML_SIGNING_CERTIFICATE}</ds:X509Certificate>
                    </ds:X509Data>
            </ds:KeyInfo>
        </KeyDescriptor>

        <KeyDescriptor use="encryption">
            <ds:KeyInfo>
                    <ds:X509Data>
                        <ds:X509Certificate>${IDP_SAML_ENCRYPTION_CERTIFICATE}</ds:X509Certificate>
                    </ds:X509Data>
            </ds:KeyInfo>

        </KeyDescriptor>

        <ArtifactResolutionService Binding="urn:oasis:names:tc:SAML:2.0:bindings:SOAP" Location="https://idp/idp/profile/SAML2/SOAP/ArtifactResolution" index="2"/>

        <!--
        <SingleLogoutService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" Location="https://idp/idp/profile/SAML2/Redirect/SLO"/>
        <SingleLogoutService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Location="https://idp/idp/profile/SAML2/POST/SLO"/>
        <SingleLogoutService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST-SimpleSign" Location="https://idp/idp/profile/SAML2/POST-SimpleSign/SLO"/>
        <SingleLogoutService Binding="urn:oasis:names:tc:SAML:2.0:bindings:SOAP" Location="https://idp/idp/profile/SAML2/SOAP/SLO"/>
        -->


        <NameIDFormat>urn:mace:shibboleth:1.0:nameIdentifier</NameIDFormat>
        <NameIDFormat>urn:oasis:names:tc:SAML:2.0:nameid-format:transient</NameIDFormat>

        <SingleSignOnService Binding="urn:mace:shibboleth:1.0:profiles:AuthnRequest" Location="https://idp/idp/profile/Shibboleth/SSO"/>
        <SingleSignOnService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Location="https://idp/idp/profile/SAML2/POST/SSO"/>
        <SingleSignOnService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST-SimpleSign" Location="https://idp/idp/profile/SAML2/POST-SimpleSign/SSO"/>
        <SingleSignOnService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" Location="https://idp/idp/profile/SAML2/Redirect/SSO"/>

    </IDPSSODescriptor>
</EntityDescriptor>

<EntityDescriptor xmlns:md="urn:oasis:names:tc:SAML:2.0:metadata" entityID="https://ifs.local-dev">

  <Extensions xmlns:alg="urn:oasis:names:tc:SAML:metadata:algsupport">
    <mdalg:DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha512"/>
    <mdalg:DigestMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#sha384"/>
    <mdalg:DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha256"/>
    <mdalg:DigestMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#sha224"/>
    <mdalg:SigningMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha512"/>
    <mdalg:SigningMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha384"/>
    <mdalg:SigningMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha256"/>
    <mdalg:SigningMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha224"/>
    <mdalg:SigningMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#rsa-sha512"/>
    <mdalg:SigningMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#rsa-sha384"/>
    <mdalg:SigningMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"/>
  </Extensions>

  <SPSSODescriptor protocolSupportEnumeration="urn:oasis:names:tc:SAML:2.0:protocol">
    <Extensions>
      <init:RequestInitiator xmlns:init="urn:oasis:names:tc:SAML:profiles:SSO:request-init" Binding="urn:oasis:names:tc:SAML:profiles:SSO:request-init" Location="https://ifs.local-dev/Shibboleth.sso/Login"/>
      <idpdisc:DiscoveryResponse xmlns:idpdisc="urn:oasis:names:tc:SAML:profiles:SSO:idp-discovery-protocol" Binding="urn:oasis:names:tc:SAML:profiles:SSO:idp-discovery-protocol" Location="https://ifs.local-dev/Shibboleth.sso/Login" index="1"/>
    </Extensions>
    <KeyDescriptor>
      <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
        <ds:KeyName>ifs.local-dev</ds:KeyName>
        <ds:X509Data>
          <ds:X509SubjectName>CN=ifs.local-dev,O=Innovate UK,L=Swindon,ST=Wiltshire,C=GB</ds:X509SubjectName>
          <ds:X509Certificate>${PROXY_CERTIFICATE}</ds:X509Certificate>
        </ds:X509Data>
      </ds:KeyInfo>
      <EncryptionMethod Algorithm="http://www.w3.org/2009/xmlenc11#aes128-gcm"/>
      <EncryptionMethod Algorithm="http://www.w3.org/2009/xmlenc11#aes192-gcm"/>
      <EncryptionMethod Algorithm="http://www.w3.org/2009/xmlenc11#aes256-gcm"/>
      <EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/>
      <EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes192-cbc"/>
      <EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes256-cbc"/>
      <EncryptionMethod Algorithm="http://www.w3.org/2009/xmlenc11#rsa-oaep"/>
      <EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#rsa-oaep-mgf1p"/>
    </KeyDescriptor>
    <ArtifactResolutionService Binding="urn:oasis:names:tc:SAML:2.0:bindings:SOAP" Location="https://ifs.local-dev/Shibboleth.sso/Artifact/SOAP" index="1"/>
    <AssertionConsumerService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Location="https://ifs.local-dev/Shibboleth.sso/SAML2/POST" index="1"/>
    <AssertionConsumerService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST-SimpleSign" Location="https://ifs.local-dev/Shibboleth.sso/SAML2/POST-SimpleSign" index="2"/>
    <AssertionConsumerService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact" Location="https://ifs.local-dev/Shibboleth.sso/SAML2/Artifact" index="3"/>
    <AssertionConsumerService Binding="urn:oasis:names:tc:SAML:2.0:bindings:PAOS" Location="https://ifs.local-dev/Shibboleth.sso/SAML2/ECP" index="4"/>
  </SPSSODescriptor>

</EntityDescriptor>

    <!-- A service provider. -->
    <EntityDescriptor entityID="http://localhost">
        <SPSSODescriptor
                protocolSupportEnumeration="urn:oasis:names:tc:SAML:2.0:protocol urn:oasis:names:tc:SAML:1.1:protocol">

            <Extensions>
                <idpdisc:DiscoveryResponse xmlns:idpdisc="urn:oasis:names:tc:SAML:profiles:SSO:idp-discovery-protocol"
                                           index="1"
                                           Binding="urn:oasis:names:tc:SAML:profiles:SSO:idp-discovery-protocol"
                                           Location="http://localhost/Shibboleth.sso/DS"/>
                <idpdisc:DiscoveryResponse xmlns:idpdisc="urn:oasis:names:tc:SAML:profiles:SSO:idp-discovery-protocol"
                                           index="2"
                                           Binding="urn:oasis:names:tc:SAML:profiles:SSO:idp-discovery-protocol"
                                           Location="http://localhost/Shibboleth.sso/DS"/>
            </Extensions>

            <KeyDescriptor>
                <ds:KeyInfo>
                    <ds:X509Data>
                        <ds:X509SubjectName>CN=localhost,O=organisation,L=location,ST=state,C=GB</ds:X509SubjectName>
                        <ds:X509Certificate>MIICljCCAX4CCQCpMW/GYQ2l3jANBgkqhkiG9w0BAQsFADANMQswCQYDVQQGEwJl
                            bjAeFw0xODExMDIxMDUyMjZaFw0xODEyMDIxMDUyMjZaMA0xCzAJBgNVBAYTAmVu
                            MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAzsoR7JTLCXt+NNREZF5s
                            ddUvuqOrOzXENrTGYSVQKlYQ/CLD78EsXOQqcc7nqzqgxbj+fhXaWIJVi2Pyf2IP
                            ecs19II3CmlzWAK2vEkncSjuCLppkIHbpRluhKahr/srE3AZ/pV9u+aoRF7SMvFJ
                            I6oaYpNuSkzkJzA4nY9g0+2/E8RIfeZPhO+OLyfuQbI9oTp7Y/bs3Ic8cjVyWYbe
                            4pFhusvoCYXSHoXN8dZIjIOIr+qZyvbrvDmdKarIedpWfeoTuMqyF7ADQNiajoNX
                            kLNTnKo5KQd+m+9UDj+D9xQ1DUoOHkxrt0rRSJF7CVElhkiRW9IfzYZuHABUENvR
                            iQIDAQABMA0GCSqGSIb3DQEBCwUAA4IBAQBmB6WfKHu9Vg6F6tUMG9HTecx2r04A
                            0hszKRy5Kl6DnU7e5dHvMI5ogURRwbvhOWfAlR8oao1D975xczIIr6t+PhecKbSV
                            Yf3/ird/cGvmu7BbLeFWdxgP0T0ovKelYObyqkvZJBFpEssqFG+AbbPD7LZRwRqY
                            HUp7RF//wiKT7AKtpyD2w8r/5XxeF2rJz4/E9KOzz6SCGSEDpi3Nwrfe9drMti6W
                            i+5GTNSbv5Jzp6CnjXd/zaktTMVQCgq5W0kF/Y1qttzYO7jRaL3TgxcKs/mGcl06
                            o6xKdlptYVrH7xiRgHttCs9HZ8QVAwvcrGdnvyYWIzjd9nCyP4OuZ9Ij</ds:X509Certificate>
                    </ds:X509Data>
                </ds:KeyInfo>
            </KeyDescriptor>

            <AssertionConsumerService index="1" isDefault="true"
                                      Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST"
                                      Location="http://localhost/Shibboleth.sso/SAML2/POST"/>
            <AssertionConsumerService index="2"
                                      Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST-SimpleSign"
                                      Location="http://localhost/Shibboleth.sso/SAML2/POST-SimpleSign"/>
            <AssertionConsumerService index="3"
                                      Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact"
                                      Location="http://localhost/Shibboleth.sso/SAML2/Artifact"/>
            <AssertionConsumerService index="4"
                                      Binding="urn:oasis:names:tc:SAML:1.0:profiles:browser-post"
                                      Location="http://localhost/Shibboleth.sso/SAML/POST"/>
            <AssertionConsumerService index="5"
                                      Binding="urn:oasis:names:tc:SAML:1.0:profiles:artifact-01"
                                      Location="http://localhost/Shibboleth.sso/SAML/Artifact"/>

        </SPSSODescriptor>

        <Organization>
            <OrganizationName xml:lang="en">Your Service</OrganizationName>
            <OrganizationDisplayName xml:lang="en">Your Service</OrganizationDisplayName>
            <OrganizationURL xml:lang="en">http://localhost/</OrganizationURL>
        </Organization>
        <ContactPerson contactType="technical">
            <GivenName>Your</GivenName>
            <SurName>Admin</SurName>
            <EmailAddress>admin@example.org</EmailAddress>
        </ContactPerson>

    </EntityDescriptor>

</EntitiesDescriptor>
